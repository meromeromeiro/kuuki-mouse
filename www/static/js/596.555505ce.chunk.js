"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[596],{3412:(e,a,s)=>{s.d(a,{Zk:()=>r,hv:()=>t,yL:()=>n});const t="proxy.moonchan.xyz";function r(e,a){const s=new URL(e),r="https://"+t+s.pathname+s.search;if(!a)return fetch(r,{headers:{"X-Host":s.hostname}});if(a.headers||(a.headers={}),a.headers instanceof Headers)a.headers.append("X-Host",s.hostname);else if(Array.isArray(a.headers))a.headers.push(["X-Host",s.hostname]);else{a.headers["X-Host"]=s.hostname}return fetch(r,a)}function n(e){if(console.log(e),""===e)return e;const a=new URL(e);return a.searchParams.set("proxy_host",a.hostname),a.hostname=t,a.toString()}},7596:(e,a,s)=>{s.r(a),s.d(a,{default:()=>l});var t=s(5043),r=s(3412),n=s(579);const l=()=>{const[e,a]=(0,t.useState)("GET"),[s,l]=(0,t.useState)(""),[d,o]=(0,t.useState)(!1),[h,c]=(0,t.useState)([{key:"",value:""}]),[u,i]=(0,t.useState)(""),[m,p]=(0,t.useState)({body:"\u8fd9\u662f\u54cd\u5e94\u7684\u4e3b\u4f53\u5185\u5bb9\u3002",headers:"\u8fd9\u662f\u54cd\u5e94\u7684\u5934\u90e8\u4fe1\u606f\u3002"}),[x,b]=(0,t.useState)(!0),y=(e,a,s)=>{const t=[...h];t[e][a]=s,c(t)};return(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsxs)("div",{className:"flex mb-4",children:[(0,n.jsxs)("select",{value:e,onChange:e=>a(e.target.value),className:"border rounded p-2 mr-2",children:[(0,n.jsx)("option",{value:"GET",children:"GET"}),(0,n.jsx)("option",{value:"POST",children:"POST"}),(0,n.jsx)("option",{value:"PUT",children:"PUT"}),(0,n.jsx)("option",{value:"DELETE",children:"DELETE"})]}),(0,n.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"Enter URL",className:"border rounded p-2 flex-grow mr-2"}),(0,n.jsxs)("label",{className:"flex items-center mr-4",children:[(0,n.jsx)("input",{type:"checkbox",checked:d,onChange:e=>o(e.target.checked)}),"Use Proxy"]}),(0,n.jsx)("button",{onClick:async()=>{console.log("Sending request:",{method:e,url:s,useProxy:d,headers:h,body:u});try{let a,t={};h.map((e=>{e.key&&(t[e.key]=e.value)})),a=d?await(0,r.Zk)(s,{method:e,headers:t,body:"GET"===e?null:u}):await fetch(s,{method:e,headers:t,body:"GET"===e?null:u});let n={};a.headers.forEach(((e,a)=>{n[a]=e})),p({headers:n,body:await a.text()})}catch(a){console.log(a)}},className:"bg-blue-500 text-white rounded p-2",children:"Send Request"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[h.map(((e,a)=>(0,n.jsxs)("div",{className:"flex mb-2",children:[(0,n.jsx)("input",{type:"text",value:e.key,onChange:e=>y(a,"key",e.target.value),placeholder:"Header",className:"border rounded p-2 mr-2"}),(0,n.jsx)("input",{type:"text",value:e.value,onChange:e=>y(a,"value",e.target.value),placeholder:"Value",className:"border rounded p-2 mr-2 flex-1"})]},a))),(0,n.jsx)("button",{onClick:()=>{c([...h,{key:"",value:""}])},className:"bg-green-500 text-white rounded p-2",children:"Add Header"})]}),(0,n.jsx)("textarea",{value:u,onChange:e=>i(e.target.value),placeholder:"Request Body",className:"border rounded p-2 w-full h-32 mb-4"}),(0,n.jsxs)("div",{className:"border rounded p-4 bg-gray-100 mt-4",children:[(0,n.jsx)("h3",{className:"font-bold",children:"Response:"}),(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("button",{onClick:()=>b(!x),className:"mr-2 p-2 rounded "+(x?"bg-blue-500 text-white":"bg-gray-300"),children:"\u663e\u793a Body"}),(0,n.jsx)("button",{onClick:()=>b(!x),className:"p-2 rounded "+(x?"bg-gray-300":"bg-blue-500 text-white"),children:"\u663e\u793a Header"})]}),(0,n.jsx)("pre",{children:x?m.body:JSON.stringify(m.headers,null,2)})]})]})}}}]);
//# sourceMappingURL=596.555505ce.chunk.js.map