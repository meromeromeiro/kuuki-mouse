"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[100],{8100:(e,a,l)=>{l.r(a),l.d(a,{default:()=>u});var t=l(5043),n=l(3216),s=l(579);const o=e=>{let{path:a,showNext:l}=e;const n=new URLSearchParams(window.location.search).get("host")?window.location.origin:"https://ehwv.moonchan.xyz",[r,u]=(0,t.useState)(null),[c,i]=(0,t.useState)(null),[x,h]=(0,t.useState)(null),[m,d]=(0,t.useState)(null),[w,b]=(0,t.useState)(0),[v,g]=(0,t.useState)(-1),[p,f]=(0,t.useState)(!1),[y,j]=(0,t.useState)(!1);return(0,t.useEffect)((()=>((async()=>{if(!p)try{const e=await fetch(n+a);if(!e.ok)throw new Error("\u8bf7\u6c42\u5931\u8d25");const l=(new DOMParser).parseFromString(await e.text(),"text/html");u((e=>{var a;return null===(a=e.getElementById("img"))||void 0===a?void 0:a.src})(l)),i((e=>{const l=e.getElementById("loadfail"),t=(null===l||void 0===l?void 0:l.getAttribute("onclick"))||"",s=/nl\(['"]([^'\\]*(?:\\.[^'\\]*)*)['"]\)/g.exec(t)[1],o=new URL(a,n);return o.searchParams.append("nl",s),o.pathname+o.search})(l)),(async e=>{try{var a;return new URL((null===(a=e.getElementById("next"))||void 0===a?void 0:a.href)||"").pathname}catch{return null}})(l).then(h),v>=0&&clearInterval(v),g(setInterval((()=>d("\u52a0\u8f7d\u8d85\u65f6")),1e4))}catch(e){d(e.message),w<3e3&&b((e=>e+1))}})(),()=>clearInterval(v))),[a,w,p]),(0,s.jsxs)(s.Fragment,{children:[!p&&r&&(0,s.jsxs)("div",{className:"image-container",children:[(0,s.jsx)("img",{className:"w-full",src:r,alt:"\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u70b9\u51fb\u91cd\u65b0\u52a0\u8f7d\u5e76\u7b49\u5f85\u81f3\u591a10\u79d2",onLoad:()=>{clearInterval(v),j(!0)},onError:()=>d("\u56fe\u7247\u52a0\u8f7d\u5931\u8d25")}),!y&&(0,s.jsxs)("div",{className:"loading-controls",children:[(0,s.jsx)("button",{onClick:()=>f(!0),className:"px-6 py-3 bg-blue-500 text-white font-bold rounded shadow hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 transition duration-200",children:"\u91cd\u65b0\u52a0\u8f7d"}),(0,s.jsx)("a",{href:n+a,className:"source-link",children:n+a})]})]}),p&&c&&(0,s.jsx)(o,{path:c,showNext:!1}),l&&x&&x!==a&&(0,s.jsx)(o,{path:x,showNext:!0})]})},r=o,u=()=>{const e=(0,n.zy)(),a=((0,n.Zp)(),e.pathname),[l,o]=(0,t.useState)(""),[u,c]=(0,t.useState)("");(0,t.useEffect)((()=>{console.log("Location has changed:",e.pathname)}),[e]);return(0,s.jsxs)("div",{className:l,children:[(0,s.jsxs)("h1",{className:"block-inline",children:["\u5f53\u524d\u8def\u5f84: ",a]}),[{label:"auto",value:"max-w-auto"},{label:"xs",value:"max-w-xs"},{label:"sm",value:"max-w-sm"},{label:"md",value:"max-w-md"},{label:"lg",value:"max-w-lg"},{label:"xl",value:"max-w-xl"},{label:"2xl",value:"max-w-2xl"},{label:"3xl",value:"max-w-3xl"},{label:"4xl",value:"max-w-4xl"},{label:"5xl",value:"max-w-5xl"},{label:"6xl",value:"max-w-6xl"},{label:"7xl",value:"max-w-7xl"}].map((e=>(0,s.jsx)("button",{className:"px-6 py-3 bg-blue-500 text-white font-bold rounded shadow hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 transition duration-200",onClick:()=>{o(e.value)},children:e.label},e.label))),(0,s.jsx)(r,{path:a,showNext:!0})]})}}}]);
//# sourceMappingURL=100.272aeb8a.chunk.js.map