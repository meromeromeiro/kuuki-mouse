"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[179],{3412:(e,t,s)=>{s.d(t,{Zk:()=>r,hv:()=>n,yL:()=>a});const n="proxy.moonchan.xyz";function r(e,t){const s=new URL(e),r="https://"+n+s.pathname+s.search;if(!t)return fetch(r,{headers:{"X-Host":s.hostname}});if(t.headers||(t.headers={}),t.headers instanceof Headers)t.headers.append("X-Host",s.hostname);else if(Array.isArray(t.headers))t.headers.push(["X-Host",s.hostname]);else{t.headers["X-Host"]=s.hostname}return fetch(r,t)}function a(e){if(console.log(e),""===e)return e;const t=new URL(e);return t.searchParams.set("proxy_host",t.hostname),t.hostname=n,t.toString()}},179:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var n=s(5043),r=s(3412),a=s(579);const o=(0,n.forwardRef)(((e,t)=>{const s=new URL(e.src);return s.searchParams.set("proxy_host",s.hostname),s.hostname=r.hv,e.origin&&s.searchParams.set("proxy_origin",e.origin),e.referer&&s.searchParams.set("proxy_referer",e.referer),(0,a.jsx)("img",{ref:t,...e,src:s.toString()})}));o.displayName="CustomImage";const c=o,h=(0,n.forwardRef)(((e,t)=>{const s=["https://img.youtube.com"];for(const o of s)if(console.log(e.src,o,e.src.startsWith(o)),e.src.startsWith(o))return(0,a.jsx)(c,{ref:t,...e});const n={"https://exhentai.org/s":"https://ehwv.moonchan.xyz/image/s","https://e-hentai.org/s":"https://ehwv.moonchan.xyz/image/s","https://ex.moonchan.xyz/s":"https://ehwv.moonchan.xyz/image/s","https://ehwv.moonchan.xyz/s":"https://ehwv.moonchan.xyz/image/s","https://ex.nmbyd1.top/s":"https://ehwv.moonchan.xyz/image/s","https://ex.nmbyd2.top/s":"https://ehwv.moonchan.xyz/image/s"};let r=e.src;if(r)for(const a in n)if(r.startsWith(a)){r=r.replace(a,n[a]);break}return(0,a.jsx)("img",{ref:t,...e,src:r})}));h.displayName="CustomImage";const i=h,l=e=>{let{content:t}=e;const s=t.split("\n");return(0,a.jsx)("div",{children:s.map(((e,t)=>{if(/^#+/.test(e)){const t=/^(#+)\s*(.*)$/.exec(e);if(t)switch(t[1].length){case 1:return(0,a.jsx)("h1",{children:(0,a.jsx)(l,{content:t[2]})});case 2:return(0,a.jsx)("h2",{children:(0,a.jsx)(l,{content:t[2]})});case 3:return(0,a.jsx)("h3",{children:(0,a.jsx)(l,{content:t[2]})});case 4:return(0,a.jsx)("h4",{children:(0,a.jsx)(l,{content:t[2]})});case 5:return(0,a.jsx)("h5",{children:(0,a.jsx)(l,{content:t[2]})});default:return(0,a.jsx)("h6",{children:(0,a.jsx)(l,{content:t[2]})})}}if(/^\[(.*)\]\((https?:\/\/[^\s]+)\)/.test(e)){const t=/\[(.*)\]\((https?:\/\/[^\s]+)\)/.exec(e);if(t)return(0,a.jsx)("a",{href:t[2],className:"text-blue-500 hover:text-green-500 underline",children:t[1]})}if(/^\!\[(.*)\]\((https?:\/\/[^\s]+)\)/.test(e)){const s=/^!\[(.*)\]\((https?:\/\/[^\s]+)\)/.exec(e);if(s)return(0,a.jsx)(i,{src:s[2],alt:s[1],referrerPolicy:"no-referrer",className:"mt-2 max-w-full h-auto"},t)}return/^(https?:\/\/[^\s]+)/.test(e)?(0,a.jsx)(i,{src:e,alt:e,referrerPolicy:"no-referrer",className:"mt-2 max-w-full h-auto"},t):(0,a.jsx)("p",{className:"text-gray-700",children:e},t)}))})},m=l,d=e=>{let{blog:t}=e;const[s,r]=(0,n.useState)(t.content.length<=100);return(0,a.jsxs)("div",{className:"mb-4 p-4 border border-gray-300 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 "+(t.content.length>100&&!s?"cursor-pointer":""),onClick:()=>{r(!0)},children:[t.title&&(0,a.jsx)("h2",{className:"text-xl font-semibold",children:t.title}),t.tags&&t.tags.length>0&&(0,a.jsx)("div",{className:"mt-2 mb-2",children:t.tags.map(((e,t)=>(0,a.jsx)("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded",children:e},t)))}),(0,a.jsx)("div",{className:"text-gray-700",children:s?(0,a.jsx)(m,{content:t.content}):`${t.content.substring(0,100)}${t.content.length>100?"...":""}`}),t.content.length>100&&!s&&(0,a.jsx)("button",{className:"mt-2 text-blue-500 hover:underline",children:s?"\u6536\u8d77":"\u9605\u8bfb\u5168\u6587"})]})},u=e=>{let{title:t,url:s}=e;const[o,c]=(0,n.useState)([]),[h,i]=(0,n.useState)("loading");return(0,n.useEffect)((()=>{!async function(){const e=await(0,r.Zk)(s,{method:"GET"}),t=await e.text();console.log(t),i(t)}()}),[]),"loading"===h?(0,a.jsx)("div",{children:"loading..."}):(0,a.jsx)(d,{blog:{title:t,content:h,tags:o}})},x=e=>{let{prefix:t,url:s}=e;const[o,c]=(0,n.useState)([]);return(0,n.useEffect)((()=>{!async function(){const e=await(0,r.Zk)(s,{method:"GET",headers:{"Cache-Control":"no-cache"}}),t=await e.json();c(t)}()}),[]),(0,a.jsx)("div",{className:"p-4",children:o.map((e=>(0,a.jsx)(u,{url:t+e.path,title:e.file_name},e.path)))})},f=()=>{var e,t;const[s,o]=(0,n.useState)([]),[c,h]=(0,n.useState)(1);(0,n.useEffect)((()=>{!async function(){const e=await(0,r.Zk)("https://raw.githubusercontent.com/Hana-ame/Hana-ame/refs/heads/notes/main.json",{method:"GET",headers:{"Cache-Control":"no-cache"}}),t=await e.json();o(t)}()}),[]);return(0,a.jsxs)("div",{className:"p-4 h-full overflow-y-scroll",children:[s&&(null===(e=s.files)||void 0===e?void 0:e.slice(0,c).map((e=>(0,a.jsx)(x,{prefix:s.prefix,url:s.prefix+e},e)))),s&&(null===(t=s.files)||void 0===t?void 0:t.length)>c&&(0,a.jsx)("button",{onClick:()=>{h((e=>e+1))},className:"mt-4 w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 transition",children:"\u663e\u793a\u4e0b\u4e00\u9875"})]})}}}]);
//# sourceMappingURL=179.8edd8302.chunk.js.map